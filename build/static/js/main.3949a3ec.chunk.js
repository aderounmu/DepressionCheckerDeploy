(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{278:function(e,t,a){e.exports=a(475)},283:function(e,t,a){},286:function(e,t,a){},468:function(e,t){},472:function(e,t,a){},475:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(32),i=a.n(l),s=(a(283),a(253)),o=a(14),c=a(103),u=a(104),m=a(118),h=a(119),d=a(489),f=a(482),v=a(494);function E(e){return r.a.createElement(v.a,{bg:"light",variant:"light",className:"myNav py-md-3 shadow-sm"},r.a.createElement("a",{href:"#home",className:"h3 text-decoration-none mx-auto text-center font-weight-light",style:{color:"#2196f3"}},"Depression Checker"))}a(286);var g=a(218);function p(){return r.a.createElement(f.a,{className:"justify-content-center mx-auto mt-5"},r.a.createElement(g.a,{sm:6,lg:6,md:6},r.a.createElement("div",{className:"Loader mx-auto"},r.a.createElement("div",{class:"loadingio-spinner-dual-ring-oj24885vggh"},r.a.createElement("div",{class:"ldio-9si48d024dq"},r.a.createElement("div",null),r.a.createElement("div",null,r.a.createElement("div",null))))),r.a.createElement("div",{className:"LoaderText"},r.a.createElement("div",{className:"h6 text-center"},"Please give us a moment while we get things ready"),r.a.createElement("div",{className:"text-center"},"This my state some few minutes"))))}var y=a(36),N=a(492),D=a(496),w=a(488),b=a(13),x=a(251),k=(a(216),a(487));function C(e){return function(t,a){var n="onWordMouseOut"!==e,r=a.target;Object(k.a)(r).on("click",(function(){return 0})).transition().attr("background","white").attr("font-size",n?"300%":"100%").attr("text-decoration",n?"underline":"none")}}var P={getWordColor:function(e){return e.value>25?"#39a4fa":"#f32151"},getWordTooltip:function(e){return'The word "'.concat(e.text,'" appears ').concat(e.value," times.")},onWordClick:C("onWordClick"),onWordMouseOut:C("onWordMouseOut"),onWordMouseOver:C("onWordMouseOver")};function T(e){var t=Object(n.useState)(20),a=Object(y.a)(t,2),l=a[0],i=(a[1],Object(n.useState)(null)),s=Object(y.a)(i,2),o=(s[0],s[1]),c={AverageLabel:{color:e.Average>.3?"#39a4fa":"#f32151",top:"50px"}},u=["#39a4fa","#f32151"];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{sm:9},r.a.createElement("div",{className:"h1 font-weight-lighter"}," Welcome ",e.username)),r.a.createElement(g.a,{sm:3},r.a.createElement("div",{className:"h4 text-sm-right"},e.filtered?" Data from ".concat(e.filter):"All Data")),r.a.createElement(g.a,{className:"d-block d-sm-none"},r.a.createElement(N.a.Control,{as:"select",onChange:function(t){o(t.target.value),e.setfilter(t.target.value)}},r.a.createElement("option",null,"All Data"),e.Years.map((function(e){return r.a.createElement("option",null,e)}))))),r.a.createElement(f.a,{clasName:"mx-0"},r.a.createElement(f.a,{className:"my-2 w-100 mx-0"},r.a.createElement(g.a,{sm:4,className:"my-sm-0 my-2"},r.a.createElement(D.a,{className:"shadow-sm border-0"},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,"Average Sentiment"),r.a.createElement(D.a.Text,null,r.a.createElement("div",{className:"h3 position-absolute",style:c.AverageLabel},e.Average),r.a.createElement(b.h,{width:"100%",aspect:3.2},r.a.createElement(b.g,null,r.a.createElement(b.f,{data:e.PieData,cx:"50%",cy:"98%",startAngle:180,endAngle:0,innerRadius:30,outerRadius:50,fill:"#8884d8",paddingAngle:5,dataKey:"value"},e.PieData.map((function(e,t){return r.a.createElement(b.b,{key:"cell-".concat(t),fill:u[t]})}))),r.a.createElement(b.i,null),r.a.createElement(b.c,{height:10}))))))),r.a.createElement(g.a,{sm:4,className:"my-sm-0 my-2 "},r.a.createElement(D.a,{className:"shadow-sm border-0"},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,"Postive"),r.a.createElement(D.a.Text,null,r.a.createElement(f.a,{className:"mx-0"},r.a.createElement(g.a,null,r.a.createElement("div",{className:"h3"},e.PositiveCount)),r.a.createElement(g.a,null,r.a.createElement(b.h,{width:"100%",height:90},r.a.createElement(b.e,{data:e.LineData},r.a.createElement(b.d,{type:"linear",dot:!1,dataKey:"Positive",stroke:"#39a4fa",strokeWidth:2}))))))))),r.a.createElement(g.a,{sm:4,className:"my-sm-0 my-2"},r.a.createElement(D.a,{className:"shadow-sm border-0"},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,"Negative"),r.a.createElement(D.a.Text,null,r.a.createElement(f.a,{className:"mx-0"},r.a.createElement(g.a,null,r.a.createElement("div",{className:"h3"},e.NegativeCount)),r.a.createElement(g.a,null,r.a.createElement(b.h,{width:"100%",height:90},r.a.createElement(b.e,{data:e.LineData},r.a.createElement(b.d,{type:"linear",dot:!1,dataKey:"Negative",stroke:"#f32151",strokeWidth:2})))))))))),r.a.createElement(f.a,{className:"my-2 w-100 mx-0"},r.a.createElement(g.a,{sm:8,className:"my-sm-0 my-2"},r.a.createElement(D.a,{className:"shadow-sm border-0"},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,r.a.createElement(f.a,{className:"mx-0"},r.a.createElement(g.a,{sm:9},"Sentiment Growth"),r.a.createElement(g.a,{sm:3,className:"d-none d-sm-block"},r.a.createElement(N.a.Control,{as:"select",onChange:function(t){o(t.target.value),e.setfilter(t.target.value)}},r.a.createElement("option",null,"All Data"),e.Years.map((function(e){return r.a.createElement("option",null,e)})))))),r.a.createElement(D.a.Text,null,r.a.createElement(b.h,{width:"100%",aspect:2},r.a.createElement(b.e,{data:e.LineData,margin:{top:5,right:10,left:5,bottom:5}},r.a.createElement(b.a,null),r.a.createElement(b.j,{dataKey:"name"}),r.a.createElement(b.k,null),r.a.createElement(b.i,null),r.a.createElement(b.c,null),r.a.createElement(b.d,{type:"monotone",dataKey:"Positive",stroke:"#39a4fa",strokeWidth:3}),r.a.createElement(b.d,{type:"monotone",dataKey:"Negative",stroke:"#f32151",strokeWidth:3}))))))),r.a.createElement(g.a,{sm:4},r.a.createElement(D.a,{className:"shadow-sm border-0"},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,"Word Cloud"),r.a.createElement(D.a.Text,null,r.a.createElement("div",{style:{height:350,width:"90%"}},r.a.createElement(x.a,{callbacks:P,words:e.WordCloud}))))))),r.a.createElement(f.a,{className:"my-2 w-100 mx-0"},r.a.createElement(g.a,null,r.a.createElement(D.a,{className:"shadow-sm border-0 overflow-auto"},r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,"Tweets"),r.a.createElement(D.a.Text,null,r.a.createElement(w.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Text"),r.a.createElement("th",null,"Sentiment Value"))),r.a.createElement("tbody",null,e.rawData.slice(0,l).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.time),r.a.createElement("td",{className:"text-wrap w-25"},e.text),r.a.createElement("td",null,e.sentiment))})))))))))))}var S=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).setfilter=function(e){var t=e;t="All Data"!==t?Number(t):"All Data";new Promise((function(e){n.setState({filter:t}),e()})).then((function(){n.filtering()})).then((function(){n.getDatePermonth()})).then((function(){n.filterPositiveandNegative()})).then((function(){n.generateDataForGraphs()}))},n.state={username:"",data:[],DataperYear:[],allPositive:[],allNegative:[],filter:null,filterData:[{}],filterDataPerMonth:[],filterNegative:[],filterPositive:[],forPieChart:[],ListYears:[],forLineChart:[],forWordCloud:[],filterAverage:null,Loaded:!1,error:""},n}return Object(u.a)(a,[{key:"renderDashboard",value:function(){var e=this.state,t=e.filter,a=e.filterData,n=e.data;return r.a.createElement(T,{rawData:null===t||"All Data"===t?n:a[0].data,filtered:null!==t&&"All Data"!==t,username:this.state.username,NegativeCount:null===t||"All Data"===t?this.state.allNegative.length:this.state.filterNegative.length,PositiveCount:null===t||"All Data"===t?this.state.allPositive.length:this.state.filterPositive.length,PieData:this.state.forPieChart,LineData:this.state.forLineChart,WordCloud:this.state.forWordCloud,filter:t,setfilter:this.setfilter,Years:this.state.ListYears,Average:this.state.filterAverage.toFixed(2)})}},{key:"getDatePermonth",value:function(){var e=this.state.filter,t=0,a=[],n=[];return null!==e&&"All Data"!==e&&this.state.filterData.forEach((function(e){e.data.forEach((function(e){var r=n.findIndex((function(t){return t===new Date(e.date).getMonth()}));-1===r||0===a.length?(a[t]={date:new Date(e.date).getMonth(),data:[]},a[t].data.push(e),n[t]=new Date(e.date).getMonth(),t++):a[r].data.push(e)}))})),a.sort((function(e,t){return e.date-t.date})),this.setState({filterDataPerMonth:a}),a}},{key:"getDataPerYear",value:function(){var e=0,t=[],a=[];this.state.data.forEach((function(n){var r=a.findIndex((function(e){return e===new Date(n.date).getFullYear()}));-1===r||0===t.length?(t[e]={date:new Date(n.date).getFullYear(),data:[]},t[e].data.push(n),a[e]=new Date(n.date).getFullYear(),e++):t[r].data.push(n)})),this.setState({DataperYear:t}),this.setState({ListYears:a})}},{key:"setAverage",value:function(){var e=this,t=this.state.filter;if(null===t||"All Data"===t){var a,n=0;this.state.data.forEach((function(e){n+=e.sentiment})),a=n/this.state.data.length,this.setState({filterAverage:a})}else{var r=0,l=0;this.state.filterData.forEach((function(t){t.data.forEach((function(e){l+=e.sentiment})),r=l/t.data.length,e.setState({filterAverage:r})}))}}},{key:"filtering",value:function(){var e=this.state.filter;if(null===e||"All Data"===e)this.setState({filterData:this.state.DataperYear}),console.log("filtering done");else{var t=this.state.DataperYear.filter((function(t){return t.date===e}));this.setState({filterData:t})}}},{key:"getPositiveandNegativeData",value:function(){var e=this.state.data.filter((function(e){return e.sentiment>=.4})),t=this.state.data.filter((function(e){return e.sentiment<.4}));this.setState({allNegative:t}),this.setState({allPositive:e})}},{key:"filterPositiveandNegative",value:function(){var e=this,t=this.state.filter;null!==t&&"All Data"!==t&&this.state.filterData.forEach((function(t){var a=t.data.filter((function(e){return e.sentiment<.4})),n=t.data.filter((function(e){return e.sentiment>=.4}));e.setState({filterPositive:n}),e.setState({filterNegative:a})}))}},{key:"dataforWordCloud",value:function(){var e=this.state.filter,t=[];t=null===e||"All Data"===e?this.state.data.slice(0,10):this.state.filterData[0].data;var a="";t.forEach((function(e){a+=e.text}));var n=a.split(/[\s.]+/g).map((function(e){return e.replace(/^[\u201c\u2018"\-\u2014()\[\]{}]+/g,"")})).map((function(e){return e.replace(/[;:.!?()\[\]{},"'\u2019\u201d\-\u2014]+$/g,"")})).map((function(e){return e.replace(/['\u2019]s$/g,"")})).map((function(e){return e.substring(0,30)})).map((function(e){return e.toLowerCase()})).map((function(e){return e.trim()})),r=[],l=0;n.forEach((function(e){var t=r.findIndex((function(t){return e===t.text}));-1===t||0===r.length?(r[l]={text:e,value:1},l++):r[t].value++})),this.setState({forWordCloud:r})}},{key:"dataForPie",value:function(){var e=this.state.filter;if(null===e||"All Data"===e){var t=[{name:"Positive",value:this.state.allPositive.length},{name:"Negative",value:this.state.allNegative.length}];this.setState({forPieChart:t})}else{var a=[{name:"Positive",value:this.state.filterPositive.length},{name:"Negative",value:this.state.filterNegative.length}];this.setState({forPieChart:a})}}},{key:"dataforLines",value:function(){var e=this.state.filter;if(null===e||"All Data"===e){var t=[];this.state.filterData.forEach((function(e){var a=e.data.filter((function(e){return e.sentiment>=.4})).length,n=e.data.filter((function(e){return e.sentiment<.4})).length,r={name:e.date,Positive:a,Negative:n};t.push(r)})),this.setState({forLineChart:t})}else{var a=[],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"];this.state.filterDataPerMonth.forEach((function(e){var t=e.data.filter((function(e){return e.sentiment>=.4})).length,r=e.data.filter((function(e){return e.sentiment<.4})).length,l={name:n[e.date],Positive:t,Negative:r};a.push(l)})),this.setState({forLineChart:a})}}},{key:"generateDataForGraphs",value:function(){this.dataForPie(),this.dataforLines(),this.setAverage(),this.dataforWordCloud()}},{key:"fetchData",value:function(){}},{key:"LoadData",value:function(){var e=this;fetch("/api/tweets/".concat(this.state.username),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(t){e.setState({data:t.data})})).catch((function(t){var a="";return a=403===t.status?"This user doesnt exist or has no tweets":"Something Went wrong, Please Try Again",e.setState({error:a}),e.props.history.push({pathname:"/",state:{isError:!0,error:a}}),Promise.reject()})).then((function(){e.getDataPerYear()})).then((function(){1===e.state.ListYears.length&&e.setfilter(e.state.ListYears[0])})).then((function(){e.filtering()})).then((function(){e.fetchData()})).then((function(){e.getDatePermonth()})).then((function(){e.getPositiveandNegativeData(),e.filterPositiveandNegative()})).then((function(){e.generateDataForGraphs()})).then((function(){e.setState({Loaded:!0})}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;new Promise((function(a){setTimeout((function(){e.setState({username:t.username}),a()}),500)})).then((function(){e.LoadData()}))}},{key:"render",value:function(){var e=this.state,t=(e.filterData,e.DataperYear,e.Loaded);return r.a.createElement("div",null,r.a.createElement(E,{className:"w-100"}),r.a.createElement(d.a,{className:"pt-3"},t?this.renderDashboard():r.a.createElement(f.a,{className:"pt-3"},r.a.createElement(p,null))))}}]),a}(n.Component),A=a(491),j=a(490),L=a(245);function W(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),l=(a[0],a[1],{inputGroupText:{borderRadius:"50rem 0rem 0rem 50rem"},input:{borderRadius:"0rem 50rem 50rem 0rem"}});return r.a.createElement(f.a,null,r.a.createElement(j.a,{className:"mb-3"},r.a.createElement(j.a.Prepend,null,r.a.createElement(j.a.Text,{id:"inputGroup-sizing-sm",style:l.inputGroupText},"@")),r.a.createElement(L.a,{style:l.input,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",value:e.value,onChange:function(t){e.getInputValue(t.target.value)}})))}function O(e){return r.a.createElement(f.a,null,r.a.createElement(N.a.Control,{className:"rounded-pill",type:"text",placeholder:"Enter Text",value:e.value,onChange:function(t){e.getInputValue(t.target.value)}}))}var M=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getInputValue=function(e){return n.setState({inputValue:e})},n.checkChange=function(e){return n.setState({isTweet:!n.state.isTweet})},n.handleModalClose=function(){return n.setState({error:!1})},n.state={isTweet:!0,inputValue:"",Result:{},isResult:!1,error:!1,error_message:""},n}return Object(u.a)(a,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.state.isTweet?this.props.history.push("/Dashboard/".concat(this.state.inputValue)):fetch("/api/tweet/".concat(this.state.inputValue),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.setState({Result:e.data})}))}},{key:"componentDidMount",value:function(){void 0!==this.props.location.state&&(this.setState({error:this.props.location.state.isError}),this.setState({error_message:this.props.location.state.error}))}},{key:"render",value:function(){var e=this.state,t=e.isTweet,a=e.inputValue,n=e.Result,l="";return l=Object.keys(n).length<=0?"":r.a.createElement(D.a,{border:"light"},r.a.createElement(D.a.Header,null," Result"),r.a.createElement(D.a.Body,null,r.a.createElement(D.a.Title,null,"Light Card Title"),r.a.createElement(D.a.Text,null,n[0].text," : ",n[0].value))),r.a.createElement("div",{className:"main"},r.a.createElement(A.a,{className:"mt-5",show:this.state.error,onHide:this.handleModalClose,backdrop:"static",keyboard:!1},r.a.createElement(A.a.Header,{closeButton:!0},r.a.createElement(A.a.Title,null,this.state.error_message)),r.a.createElement(A.a.Body,null,"Sorry An Error Occured")),r.a.createElement(E,{className:"w-100"}),r.a.createElement(d.a,{fluid:!0},r.a.createElement(f.a,{className:"justify-content-center text-center"},r.a.createElement(g.a,{sm:6,className:"mx-auto my-5"},r.a.createElement("div",{className:"h4"},"Welcome this is a simple application that utilizes twitter data to access and  analayze mental health of people"),r.a.createElement("div",null,"Please input a valid twitter handle or a valid text to process"))),r.a.createElement(f.a,{className:"justify-content-center text-center"},r.a.createElement(g.a,{lg:5,md:6,sm:6,className:"mx-5"},r.a.createElement(N.a,{className:"",onSubmit:this.onSubmit.bind(this)},r.a.createElement(f.a,{className:""},r.a.createElement(N.a.Group,{controlId:"FormInput",className:"w-100"},t?r.a.createElement(W,{getInputValue:this.getInputValue,value:a}):r.a.createElement(O,{getInputValue:this.getInputValue,value:a}))),r.a.createElement(f.a,{className:""},r.a.createElement(g.a,null,r.a.createElement(N.a.Group,{controlId:"formcontrolText"},r.a.createElement(N.a.Check,{type:"checkbox",checked:t,onChange:this.checkChange,label:"Twitter"}))),r.a.createElement(g.a,null,r.a.createElement(N.a.Group,{controlId:"formcontrolTweet"},r.a.createElement(N.a.Check,{checked:!t,onChange:this.checkChange,type:"checkbox",label:"Text"})))),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("button",{type:"submit"},"Check")))))),r.a.createElement(f.a,{className:"justify-content-center text-center"},r.a.createElement("div",{className:"Result"},l))))}}]),a}(n.Component);a(472);var Y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/Dashboard/:username",exact:!0,component:S}),r.a.createElement(o.a,{path:"/",exact:!0,component:M}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[278,1,2]]]);
//# sourceMappingURL=main.3949a3ec.chunk.js.map